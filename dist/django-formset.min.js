/*! Django Formset - v0.1.0 - 2014-02-24
* https://github.com/mbertheau/jquery.django-formset
* Copyright (c) 2014 Markus Bertheau; Licensed MIT */
var FormsetError,__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};FormsetError=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return __extends(b,a),b}(Error),function(a){a.fn.djangoFormset=function(b){var c,d,e,f,g;if(this.opts=a.extend({},a.fn.djangoFormset.default_options,b),c=this,g=c.find("#id_"+this.opts.prefix+"-TOTAL_FORMS"),0===g.length)throw new FormsetError("Management form field 'TOTAL_FORMS' not found for prefix "+this.opts.prefix+".");return"TABLE"===this.prop("tagName")&&(c=this.children("tbody")),f=c.find("> .empty-form"),d=c.children().last(),e=function(b,c){return b.find("input,select,textarea,label").each(function(){var b,d,e,f,g;for(d=a(this),g=["for","id","name"],e=0,f=g.length;f>e;e++)b=g[e],d.attr(b)&&d.attr(b,d.attr(b).replace("__prefix__",c))})},{addForm:function(){var a;a=f.clone().removeClass("empty-form"),a.insertAfter(d),g.val(parseInt(g.val())+1),e(a,g.val()-1),d=a}}},a.fn.djangoFormset.default_options={prefix:"form"}}(jQuery);